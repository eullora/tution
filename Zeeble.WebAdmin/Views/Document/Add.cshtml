@using Zeeble.Shared.Entities
@{
    ViewData["Title"] = "Add Document";
    var batches = ViewData["Batches"] as IEnumerable<Batch>;
    var subjects = ViewData["Subjects"] as IEnumerable<Subject>;
    var documentTypes = ViewData["DocumentTypeRows"] as IEnumerable<DocumentType>;

}
@section Styles {
    <partial name="_Select2Css" />
}

<div class="container">
    <div class="row justify-content-center">
        <h3 class="mt-4 mb-5">Add Documents</h3>
        
        <div class="col-lg-12 mt-3">
            <form asp-controller="document" asp-action="add" method="post" enctype="multipart/form-data">

                <div class="row mb-3">
                  

                    <div class="col-md-12 mt-3">
                        <label for="inputName" class="mb-2">Title *</label>
                        <input class="form-control" id="inputName" autocomplete="off" maxlength="150" required type="text" name="Title">
                    </div>


                    <div class="col-md-12 mt-3">
                        <label for="selectDocumentType" class="mb-2">Document Type *</label>
                        <select class="form-select" id="selectDocumentType" name="DocumentTypeId" required>
                            <option value=""></option>
                            @foreach (var docType in documentTypes)
                            {
                                <option value="@docType.Id">@docType.Title</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-12 mt-3">
                        <label for="selectBatch" class="mb-2">Batch *</label>
                        <select class="form-select" id="selectBatch" multiple required name="BatchIds">
                            <option value=""></option>
                            @foreach (var batch in batches)
                            {
                                <option value="@batch.Id">@batch.Title</option>
                            }
                        </select>
                    </div>

                    <div class="col-md-12 mt-3">
                        <label for="selectSubject" class="mb-2">Subject *</label>
                        <select class="form-select w-100" id="selectSubject" multiple required name="SubjectIds">
                            <option value=""></option>
                            @foreach (var subject in subjects)
                            {
                                <option value="@subject.Id">@subject.Name</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-12 mt-3">
                        <label for="inputComment" class="mb-2">Comments</label>
                        <textarea class="form-control" id="inputComment" maxlength="150" type="text" name="Comments"></textarea>
                    </div>

                    <div class="col-md-12 mt-3 mb-4">
                        <label for="documentFile" class="mb-2">File *</label>
                        <input class="form-control" id="documentFile" required type="file" name="documentFile">
                    </div>
                </div>

                <div class="mt-4 mb-0">
                    <button type="submit" class="btn btn-primary btn-lg">Submit</button>
                </div>

            </form>
        </div>
    </div>
</div>

@section Scripts {

    <partial name="_Select2Js" />
    <script type="text/javascript">
      activeAdminMenu('#documents');

      $(document).ready(function() {
         $( '#selectSubject' ).select2( {theme: "bootstrap-5" });
         $( '#selectBatch' ).select2( {theme: "bootstrap-5" });                  
        });
    </script>
}